# brew

## 用語

| 用語 | 概要 | 補足1 | 補足2 |
| - | - | - | - |
| Foumula(調理法) | パッケージの情報が定義されたファイル | Foumulaのファイルを読み込んでローカルにビルドする |  |
| Tap(蛇口) | パッケージの元（リポジトリ）と紐づける操作およびディレクトリ | デフォルトではGitHub上にある「Homebrew/homebrew-core」というリポジトリがTapされている（＝指定不要） | 独自・外部のリポジトリに対してTapすることもできる |
| Cellar(貯蔵庫) | ローカルにある、brewコマンド経由でインストールしたパッケージ群の保管場所（の大元） |  |  |
| Rack(棚、台) | パッケージ単位で用意されるディレクトリ（＝パッケージ名） |  |  |
| Keg(子樽) | パッケージのバージョン毎に用意されるディレクトリ | 内部には実行可能ファイルやライブラリ本体が置かれる | /usr/local/binなどからシンボリックリンクが貼られる（別途リンク作成、PATH通し必要なこともあり） |
|  |  |  |  |

## コマンド

```sh
# インストール
brew install 対象名
# アンインストール
brew uninstall 対象名
# インストール済パッケージ一覧
brew list
brew list --versions #バージョン含めて一覧表示
# brewで扱える言語や機能やソフトなどを検索
brew search 対象名
# 詳細を確認(インストール済か否か、最新バージョン、依存関係など)
brew info 対象名
# インストール済で更新がある対象を確認
brew outdated
# Homebrew自身とパッケージの更新
brew upgrade
# 旧バージョンで使用しないものを削除
brew cleanup
brew cleanup -n #削除する対象を一覧表示（消去する前にやると○）
# 問題箇所を確認
brew doctor
# 依存関係を確認(どの対象に依存しているか)
brew deps 対象名
brew deps --tree パッケージ名 # 依存関係先をツリー形式で表示
brew deps --installed --tree # インストール済の依存関係をツリー状で表示
# 他のパッケージから依存されていないパッケージを削除
brew autoremove # --dry-runオプションで消去されるパッケージの確認可能
# 依存関係を確認（どの対象から依存されているか)
brew uses 対象名
# 依存関係がない対象を表示
brew leaves
```

```sh
# パッケージのパスを確認
brew --prefix パッケージ名
# パッケージの保管されているディレクトリを確認
brew ls パッケージ名

# Homebrewで管理しているパッケージをシステムの標準パス（通常 /usr/local または /opt/homebrew）にシンボリックリンクとしてリンクするコマンド
brew link パッケージ名
brew link パッケージ名 --force # すでに存在するシンボリックリンクがあればそれを上書き
```
